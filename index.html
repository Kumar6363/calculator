<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EzySales Agent Tool</title>

  <!-- ----------  BASIC STYLES  ---------- -->
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Segoe UI',sans-serif;background:#f2f5f8;padding:20px}

    /* HEADER + NAV */
    h1{text-align:center;margin:0 0 25px;font-size:2rem;color:#111}
    .tabs{display:flex;justify-content:center;flex-wrap:wrap;margin-bottom:25px}
    .tablink{
      background:#fff;border:1px solid #ccc;padding:10px 22px;
      cursor:pointer;margin:5px;font-weight:600;border-radius:6px
    }
    .tablink.active{background:#0d6efd;color:#fff;border-color:#0d6efd}

    /* CONTENT CARDS */
    .card{
      background:#fff;max-width:500px;width:100%;margin:0 auto;
      padding:24px;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,.08)
    }
    .tab-content{display:none}
    .tab-content.active{display:block}

    h2{margin-bottom:15px;font-size:1.4rem;font-weight:600;color:#222}
    label{display:block;margin:12px 0 5px;font-weight:500}
    input[type=number]{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px}

    button.calc{
      width:100%;padding:12px;margin-top:18px;border:none;border-radius:8px;
      background:#0d6efd;color:#fff;font-size:1rem;font-weight:600;cursor:pointer
    }
    button.calc:hover{background:#0b5ed7}

    /* RESULT BOXES */
    .result{margin-top:20px;font-weight:700;text-align:center;color:#198754}
    #ndiResult hr{margin:10px 0;border:0;border-top:1px dashed #ccc}
    .result.red{color:#dc3545}

  </style>
</head>

<body>
  <h1>EzySales Agent Tool</h1>

  <!-- ----------  NAV TABS  ---------- -->
  <div class="tabs">
    <button class="tablink active" onclick="openTab(event,'about')">About</button>
    <button class="tablink" onclick="openTab(event,'loan')">HomeÂ Loan</button>
    <button class="tablink" onclick="openTab(event,'dsr')">DSR</button>
    <button class="tablink" onclick="openTab(event,'ndi')">NDI</button>
  </div>

  <!-- ----------  ABOUT TAB  ---------- -->
  <div id="about" class="tab-content active">
    <div class="card">
      <h2>AboutÂ EzySales</h2>
      <p>Oneâ€‘page toolkit for Malaysian property agents: quick calculators for
      loan repayment, DSR, and NDI.Â Streamline your consultation and close deals faster!</p>
      <p style="margin-top:10px"><strong>Mission:</strong> Empower agents with transparent numbers.</p>
    </div>
  </div>

  <!-- ----------  HOMEâ€‘LOAN TAB  ---------- -->
  <div id="loan" class="tab-content">
    <div class="card">
      <h2>ğŸ¡Â Home Loan Calculator</h2>
      <label>Loan AmountÂ (RM)</label>
      <input type="number" id="loanAmount" value="500000" />

      <label>Interest RateÂ (%)</label>
      <input type="number" id="interestRate" value="4.25" step="0.01"/>

      <label>TenureÂ (years)</label>
      <input type="number" id="loanTenure" value="35"/>

      <button class="calc" onclick="calcLoan()">Calculate</button>
      <div id="loanResult" class="result"></div>
    </div>
  </div>

  <!-- ----------  DSR TAB  ---------- -->
  <div id="dsr" class="tab-content">
    <div class="card">
      <h2>ğŸ“ŠÂ DSR Calculator</h2>
      <label>Gross IncomeÂ (RM)</label>
      <input type="number" id="dsrIncome" value="5000"/>

      <label>Total CommitmentsÂ (RM)</label>
      <input type="number" id="dsrCommit" value="1000"/>

      <label>DSRÂ LimitÂ (%)</label>
      <input type="number" id="dsrLimit" value="65"/>

      <button class="calc" onclick="calcDSR()">Check Eligibility</button>
      <div id="dsrResult" class="result"></div>
    </div>
  </div>

  <!-- ----------  NDI TAB  ---------- -->
  <div id="ndi" class="tab-content">
    <div class="card">
      <h2>ğŸ’°Â NDI (Net Disposable Income) Checker</h2>

      <label>MonthlyÂ Gross IncomeÂ (RM)</label>
      <input type="number" id="ndiGross" value="5000"/>

      <label>EPFÂ DeductionÂ (%)</label>
      <input type="number" id="ndiEPF" value="12"/>

      <label>SOCSOÂ /Â TaxÂ (RM)</label>
      <input type="number" id="ndiTax" value="200"/>

      <label>Total Loan CommitmentsÂ (RM)</label>
      <input type="number" id="ndiLoans" value="1500"/>

      <label>Living ExpensesÂ (RM)</label>
      <input type="number" id="ndiLive" value="200"/>

      <button class="calc" onclick="calcNDI()">CalculateÂ NDI</button>
      <div id="ndiResult" class="result" hidden></div>
    </div>
  </div>

  <!-- ----------  JAVASCRIPT  ---------- -->
  <script>
    /* --- TAB HANDLER --- */
    function openTab(evt,id){
      document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
      document.querySelectorAll('.tablink').forEach(b=>b.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      evt.currentTarget.classList.add('active');
    }

    /* --- LOAN CALC --- */
    function calcLoan(){
      const P = +loanAmount.value||0;
      const r = (+interestRate.value||0)/100/12;
      const n = (+loanTenure.value||0)*12;
      if(!P||!r||!n){loanResult.textContent='';return;}
      const M = P*r*Math.pow(1+r,n)/(Math.pow(1+r,n)-1);
      loanResult.textContent = 'Monthly Repayment: RMÂ '+M.toFixed(2);
    }

    /* --- DSR CALC --- */
    function calcDSR(){
      const inc = +dsrIncome.value||0;
      const com = +dsrCommit.value||0;
      const lim = (+dsrLimit.value||0)/100;
      if(!inc){dsrResult.textContent='';return;}
      const maxPay = inc*lim - com;
      const estLoan = maxPay*200;
      dsrResult.innerHTML =
        `MaxÂ MonthlyÂ Installment:<br><span style=\"font-size:1.4rem\">RMÂ ${maxPay.toFixed(2)}</span><br><br>`+
        `Est.Â Loan:<br><span style=\"font-size:1.4rem\">RMÂ ${estLoan.toFixed(2)}</span>`;
    }

    /* --- NDI CALC WITH BREAKDOWN --- */
    function calcNDI(){
      const g = +ndiGross.value||0;
      const epfPct = +ndiEPF.value||0;
      const tax = +ndiTax.value||0;
      const loans = +ndiLoans.value||0;
      const live = +ndiLive.value||0;
      if(!g){ndiResult.hidden=true;return;}

      const epf = g*epfPct/100;
      const ndi = g - epf - tax - loans - live;

      ndiResult.innerHTML =
        `<div style=\"text-align:left\">\n`+
        `Monthly Gross Income: RMÂ ${g.toFixed(2)}<br>`+
        `-Â EPF (${epfPct}%): RMÂ ${epf.toFixed(2)}<br>`+
        `-Â SOCSOÂ /Â Tax: RMÂ ${tax.toFixed(2)}<br>`+
        `-Â Loan Commitments: RMÂ ${loans.toFixed(2)}<br>`+
        `-Â Living Expenses: RMÂ ${live.toFixed(2)}<br><hr></div>`+
        `<span style=\"font-size:1.2rem\">Net Disposable Income (NDI): RMÂ ${ndi.toFixed(2)}</span><br><br>`+
        (ndi>1000?'<span style=\"color:#198754\">âœ…Â NDI is healthy</span>':'<span style=\"color:#dc3545\">âŒÂ NDI may be too low</span>');
      ndiResult.hidden=false;
    }
  </script>
</body>
</html>
